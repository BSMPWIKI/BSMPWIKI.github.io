<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Las Colinas</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&display=swap');

        :root { 
            --gold: #d4af37; 
            --dark: #121212; 
            --white: #ffffff;
            --alert: #ff0000;
        }

        body { 
            font-family: 'Montserrat', sans-serif; 
            margin: 0; 
            background: var(--white); 
            color: var(--dark); 
            transition: all 0.5s ease;
            overflow-x: hidden;
        }

        /* Estilo Nav Original */
        nav {
            background: var(--dark);
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid var(--gold);
        }

        nav h1 { 
            color: var(--gold); 
            font-family: 'Cinzel', serif; 
            margin: 0; 
            font-size: 1.5rem; 
            letter-spacing: 4px;
            cursor: pointer;
        }

        /* Banner Principal Original */
        .hero { 
            width: 100%; 
            height: 50vh;
            background: url('https://i.ibb.co/Y4yhdQtB/2026-01-07-21-59-57.png') center/cover no-repeat; 
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .hero::after {
            content: ""; position: absolute; top:0; left:0; width:100%; height:100%;
            background: rgba(0,0,0,0.4);
        }

        .hero-title { 
            position: relative; z-index: 10; 
            color: white; font-family: 'Cinzel'; font-size: 2rem; 
            text-align: center; padding: 0 20px; letter-spacing: 2px;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.7);
        }

        .container { max-width: 800px; margin: 50px auto; padding: 0 25px; }

        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            color: var(--gold);
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .section-title::after {
            content: ""; display: block; width: 50px; height: 2px; background: var(--gold); margin: 15px auto;
        }

        /* Descripción Profesional */
        .description {
            line-height: 1.9;
            text-align: justify;
            font-size: 1.05rem;
            color: #444;
            margin-bottom: 50px;
        }

        /* Formulario Estilo Premium Original */
        .booking-form {
            background: #fff;
            padding: 40px;
            border: 1px solid #e0e0e0;
            box-shadow: 0 15px 40px rgba(0,0,0,0.05);
        }

        .form-row { margin-bottom: 25px; }

        label { 
            display: block; 
            font-size: 0.75rem; 
            font-weight: 700; 
            letter-spacing: 2px; 
            margin-bottom: 10px; 
            color: #888;
            text-transform: uppercase;
        }

        input, select {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            box-sizing: border-box;
            transition: 0.3s;
        }

        input:focus { border-color: var(--gold); outline: none; }

        .btn-submit {
            width: 100%;
            padding: 20px;
            background: var(--dark);
            color: var(--gold);
            border: 1px solid var(--gold);
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            letter-spacing: 4px;
            transition: 0.4s;
        }

        .btn-submit:hover { background: var(--gold); color: var(--dark); }

        /* MODO VERDAD OCULTO */
        body.truth-mode { background: #000; color: var(--alert); }
        body.truth-mode .description, body.truth-mode label, body.truth-mode .section-title { color: var(--alert); }
        body.truth-mode .booking-form { background: #0a0a0a; border-color: var(--alert); }
        body.truth-mode input, body.truth-mode select { background: #1a1a1a; color: white; border-color: var(--alert); }
        body.truth-mode .hero { filter: grayscale(1) brightness(0.4); }

        /* OVERLAY DE ÉXITO PROFESIONAL */
        #success-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #ffffff; display: none; z-index: 9999;
            flex-direction: column; justify-content: center; align-items: center;
            text-align: center; color: var(--dark); font-family: 'Cinzel', serif;
        }

        body.truth-mode #success-overlay { background: #000; color: var(--alert); }

        @media (max-width: 600px) {
            .hero-title { font-size: 1.5rem; }
            .booking-form { padding: 25px; }
        }
    </style>
</head>
<body>

<nav>
    <h1 id="navTitle" onclick="toggleTruth()">LAS COLINAS</h1>
</nav>

<div class="hero">
    <div class="hero-title">DISFRUTE SU ESTANCIA</div>
</div>

<div class="container">
    <h2 class="section-title">Las Colinas</h2>
    <div class="description">
        <p>
            <strong>Las Colinas</strong> representa el cénit de la ingeniería civil y el urbanismo privado de élite. Este asentamiento ha sido proyectado para ofrecer un ecosistema de seguridad avanzada y confort sin precedentes bajo una administración centralizada.
        </p>

        <p>
            Nuestra metrópolis integra la sofisticación del <strong>Distrito Central</strong> con la exclusividad de las <strong>Villas Residenciales</strong>. Cada solicitud de ingreso es procesada bajo estrictos protocolos de confidencialidad para garantizar la integridad de nuestra comunidad.
        </p>
        
        <div style="background: rgba(212, 175, 55, 0.05); border-left: 4px solid var(--gold); padding: 20px; margin-top: 30px; font-style: italic; font-size: 0.95rem;">
            "La perfección no es una opción, es nuestra ley fundamental." — <strong>Administración Central de Las Colinas.</strong>
        </div>
    </div>

    <h2 class="section-title">Registro de Solicitud</h2>
    <div class="booking-form">
        <form id="reservaForm">
            <div class="form-row">
                <label>Nombre</label>
                <input type="text" id="userName" placeholder="Nombre..." required>
            </div>
            
            <div class="form-row">
                <label>Área de Destino</label>
                <select id="userArea" required>
                    <option value="">Seleccione zona...</option>
                    <option value="Grand Hotel El Azar">Grand Hotel El Azar</option>
                    <option value="Villas de Las Colinas">Villas Residenciales Privadas</option>
                    <option value="Distrito Central">Distrito Central (Permanente)</option>
                </select>
            </div>

            <div class="form-row">
                <label>Fecha Estimada de Ingreso</label>
                <input type="date" id="userDate" required>
            </div>

            <div class="form-row">
                <label>Estatus de Estancia</label>
                <input type="text" value="RESIDENCIA PERMANENTE ADMITIDA" disabled style="background: #f9f9f9; color: #bbb;">
            </div>

            <button type="submit" class="btn-submit">ENVIAR CREDENCIALES</button>
        </form>
    </div>
</div>

<div id="success-overlay">
    <h2 id="statusHeader" style="letter-spacing: 5px;">PROCESANDO SOLICITUD...</h2>
    <div id="braiMessage" style="display:none;">
        <p style="font-size: 1.2rem;" id="welcomeText">SOLICITUD PROCESADA CON ÉXITO,</p>
        <h1 id="displayName" style="font-size: 2.5rem; margin: 20px 0; color: var(--gold);">NOMBRE</h1>
        <p id="systemMessage" style="font-family: 'Montserrat'; font-size: 0.9rem;">SU IDENTIDAD HA SIDO REGISTRADA EN LA BASE DE DATOS CENTRAL.</p>
    </div>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
    import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDUjORFPVwfOngb2KDPAdrAclIeHnzH5Ck",
      authDomain: "bsmp2-3f7b2.firebaseapp.com",
      databaseURL: "https://bsmp2-3f7b2-default-rtdb.firebaseio.com",
      projectId: "bsmp2-3f7b2",
      storageBucket: "bsmp2-3f7b2.firebasestorage.app",
      messagingSenderId: "347248175152",
      appId: "1:347248175152:web:0bbf91b3851ded236a65f5",
      measurementId: "G-S0CMJTV7N8"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    window.toggleTruth = () => document.body.classList.toggle('truth-mode');

    const form = document.getElementById('reservaForm');
    form.addEventListener('submit', async (event) => {
        event.preventDefault();
        
        const name = document.getElementById('userName').value;
        const area = document.getElementById('userArea').value;
        const date = document.getElementById('userDate').value;
        
        const overlay = document.getElementById('success-overlay');
        const display = document.getElementById('displayName');
        const message = document.getElementById('braiMessage');
        const statusHeader = document.getElementById('statusHeader');
        const sysMsg = document.getElementById('systemMessage');

        display.innerText = name.toUpperCase();
        overlay.style.display = 'flex';

        // Lógica de mensaje según el modo
        if(document.body.classList.contains('truth-mode')) {
            sysMsg.innerText = "BRAI: YA ESTÁS EN MI SISTEMA.";
            sysMsg.style.color = "var(--alert)";
            display.style.color = "var(--alert)";
        } else {
            sysMsg.innerText = "SU IDENTIDAD HA SIDO REGISTRADA EN LA BASE DE DATOS CENTRAL.";
            sysMsg.style.color = "var(--dark)";
            display.style.color = "var(--gold)";
        }

        try {
            const registrosRef = ref(db, 'registros');
            const nuevoRegistroRef = push(registrosRef);
            await set(nuevoRegistroRef, {
                nombre: name,
                area: area,
                fecha: date,
                timestamp: new Date().toLocaleString()
            });

            setTimeout(() => {
                statusHeader.style.display = 'none';
                message.style.display = 'block';
            }, 2000);

            setTimeout(() => {
                overlay.style.display = 'none';
                message.style.display = 'none';
                statusHeader.style.display = 'block';
                form.reset();
            }, 8000);

        } catch (error) {
            console.error(error);
            alert("Error de conexión con el servidor central.");
            overlay.style.display = 'none';
        }
    });

    document.addEventListener('keydown', (e) => {
        if (e.key && e.key.toLowerCase() === 'v') window.toggleTruth();
    });
</script>

</body>
</html>
